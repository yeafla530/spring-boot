# Spring boot ν•™μµ - κΈ°λ³Έκ°λ…

## π© InteliJ μ„¤μΉ λ° ν”„λ΅μ νΈ μƒμ„±

![image-20230911194523195](.\images\image-20230911194523195.png)

κ°•μμ—μ„λ” spring boot 2.xλ²„μ „μ„ κ°•μν–λ”λ° μΈν…”λ¦¬μ μ΄μ—λ” 3.xλ²„μ „λ§ λ‹¤λ£¨λ” κ²ƒ κ°™μ•„μ„ μ°¨μ§μ„ λ€λΉ„ν•΄ [spring initializr](https://start.spring.io/)λ¥Ό ν†µν•΄ 2.xμ„ λ‹¤μ΄λ°›μ•μµλ‹λ‹¤



![image-20230911205252436](images/image-20230911205252436.png)







## π© κµ¬μ΅° μ„¤λ…

```
src
γ„΄ main
	γ„΄ java
		γ„΄ yerm.project.basicproject
				γ„΄ BasicprojectApplication
	γ„΄ resources
		γ„΄ static
		γ„΄ templates
		γ„΄ application.properties
γ„΄ test
	γ„΄ java
		γ„΄ basicprojectApplicationTesets
```

* **src/main/java** : μλ°” νμΌμ„ μ‘μ„±ν•λ” κ³µκ°„
* **src/main/resources** : μλ°” νμΌμ„ μ μ™Έν• HTML, CSS, Javascript, ν™κ²½νμΌ λ“±μ„ μ‘μ„±ν•λ” κ³µκ°„
* **BasicprojectApplication** : λ¨λ“  ν”„λ΅κ·Έλ¨μ—λ” μ‹μ‘μ„ λ‹΄λ‹Ήν•λ” νμΌ
* static: ν”„λ΅μ νΈμ μ¤νƒ€μΌμ‹νΈ(.css), μλ°”μ¤ν¬λ¦½νΈ(.js) κ·Έλ¦¬κ³  μ΄λ―Έμ§€ νμΌ(.jpg, .png) λ“±μ„ μ €μ¥ν•λ” κ³µκ°„
* **templates**: HTML νμΌ ν•νƒλ΅ μλ°” κ°μ²΄μ™€ μ—°λ™λλ” νμΌ, ν”„λ΅μ νΈμ μ§λ¬Έ λ©λ΅, μ§λ¬Έ μƒμ„Έ λ“±μ HTML νμΌμ„ μ €μ¥

* **application.properties** : applicationκ°€λ™μ„ μ„ν•΄ ν•„μ”ν• λ‚΄μ©λ“¤, ν™κ²½ μ„¤μ •, DBμ—°κ²° κ²½λ΅ λ“±

* **src/test/java** : ν”„λ΅μ νΈμ—μ„ μ‘μ„±ν• νμΌμ„ ν…μ¤νΈν•κΈ° μ„ν• ν…μ¤νΈ μ½”λ“λ¥Ό μ‘μ„±ν•λ” κ³µκ°„

* **basicprojectApplicationTesets** : ν΄λμ¤μ™€ 1:1λ€μ‘ν•λ„λ΅ ν…μ¤νΈ ν΄λμ¤ μƒμ„±



## λ””μμΈ ν¨ν„΄

### λ””μμΈ ν¨ν„΄μ΄λ€?

![image-20230911205932007](images/image-20230911205932007.png)

![image-20230911210031759](images/image-20230911210031759.png)

![image-20230911210224544](images/image-20230911210224544.png)

![image-20230911210239301](images/image-20230911210239301.png)



### μƒμ„±ν¨ν„΄

μ–Έμ–΄λ¥Ό μ‚¬μ©ν•΄λ΄¤λ‹¤λ©΄ λ“¤μ–΄λ΄¤μ„ ν¨ν„΄λ“¤

**μ‹±κΈ€ν†¤ ν¨ν„΄**μ„ ν•„μμ μΌλ΅ μ•μ•„μ•Όν•λ‹¤ / Spring bootμ μ‹±κΈ€ν†¤ ν¨ν„΄κ³Ό μ΅°κΈ λ‹¤λ¥΄λ‹¤

![image-20230911210310945](images/image-20230911210310945.png)



### κµ¬μ΅°ν¨ν„΄

κΈ°λ¥λ“¤μ΄ μ¶”κ°€λ  λ• κΈ°μ΅΄ ν”„λ΅μ νΈ μ½”λ“λ“¤μ—μ„ μµμ†ν•λ§ λ³€κ²½ν•μ—¬ κ³ μΉ  μ μλ„λ΅ ν•΄μ£Όλ” ν¨ν„΄

**μ–΄λ‘ν„°, λΈλ¦¬μ§€, λ°μ½”λ μ΄ν„°, νμ‚¬λ“** κ°€ μ£Όμ” ν¨ν„΄

![image-20230911210514949](images/image-20230911210514949.png)



### ν–‰λ™ ν¨ν„΄

κ²°ν•©λ„λ¥Ό μµμ†ν™”ν•λ‹¤ = λ£¨μ¦ μ»¤ν”λ§

**μ „λµ, λ°λ³µμ** ν¨ν„΄μ΄ μ£Όμ” ν¨ν„΄

ν•μ§€λ§ μ „μ²΄μ μΈ λ‚΄μ©μ„ μ•„λ” κ²ƒμ΄ μ¤‘μ”

![image-20230911211616508](images/image-20230911211616508.png)

![image-20230911211642541](images/image-20230911211642541.png)



## Rest API

### APIλ€?

μ‘μ©ν”„λ΅κ·Έλ¨μ„ ν†µν•΄ λ‹¤λ¥Έ ν”„λ΅κ·Έλ¨μ„ μ μ–΄ν•  μ μκ² λ§λ“  μΈν„°νμ΄μ¤

SWμ μΈ μΈν„°νμ΄μ¤λ¥Ό ν†µν•΄ μ μ–΄

![image-20230911211810088](images/image-20230911211810088.png)



### RESTλ€? 

μμ›(data)μ μƒνƒ(μ‹κ°„, μ΄λ¦„ λ“±)λ¥Ό κµν™ν•λ” κ²ƒ

HTTP Method (CRUD)λ¥Ό ν†µν•΄ μμ›μ„ μ»¨νΈλ΅¤ν•λ‹¤

![image-20230911212108673](images/image-20230911212108673.png)



### REST νΉμ§•

* **Server-Client κµ¬μ΅°** : μμ›μ΄ μλ” μ½μ΄ Server, μ”μ²­ν•λ” μ½μ΄ Client
  * λ…λ¦½μ λ» : μμ›μ„ κ³µμ ν•λ” κµμ§‘ν•©μ΄ μ—†μ–΄μ•Όν•λ‹¤, serverμ™€ clientκ°κ°μ DBλ¥Ό λ‘κ³  κ°κ° μΉ¨λ²”ν•μ§€ μ•λ„λ΅ ν•λ”κ²ƒμ΄ μ¤‘μ”
* **Stateless** : μ”μ²­κ°„ ν΄λΌμ΄μ–ΈνΈ μ •λ³΄κ°€ μ„λ²„μ— μ €μ¥λμ§€ μ•μ
* **Cacheable**: HTTPνΉμ§•μΈ μΊμ‹±κΈ°λ¥μ„ μ μ©
* **κ³„μΈµν™”**: μ„λ²„μ—μ„ κµ¬μ΅°μ—μ„ λ³€κ²½μ΄ μμ–΄λ„ ν΄λΌμ΄μ–ΈνΈμ—μ„λ” μμ›μ„ λ°›μ•„μ¤κ²λ§ ν•λ©΄ λλ‹¤ (μν–¥μ„ λ°›μ§€ μ•λ”λ‹¤)
* **Code on Demand (js)**: μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈλ΅ μ „λ‹¬ν•λ©΄ λ°”λ€ ν™”λ©΄μ„ λ„μ΄λ‹¤
* **μΈν„°νμ΄μ¤ μΌκ΄€μ„±** : HTTP ν”„λ΅ν† μ½μ„ λ”°λ¥΄λ” λ¨λ“  ν”λ«νΌμ—μ„ μ‚¬μ© κ°€λ¥ν•κ²λ” μ„¤κ³„

![image-20230911212250544](images/image-20230911212250544.png)

![image-20230911212433489](images/image-20230911212433489.png)



### REST μ¥μ 

* HTTP ν‘μ¤€ ν”„λ΅ν† μ½μ„ μ‚¬μ©ν•λ” λ¨λ“  ν”λ«νΌμ—μ„ νΈν™ κ°€λ¥
* μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈμ μ—­ν• μ„ λ…ν™•ν•κ² λ¶„λ¦¬
* μ—¬λ¬ μ„λΉ„μ¤ μ„¤κ³„μ—μ„ μƒκΈΈ μ μλ” λ¬Έμ λ¥Ό μµμ†ν™”



### REST APIλ€?

![image-20230911213050933](images/image-20230911213050933.png)



### REST API μ„¤κ³„ κ·μΉ™

* μ μΌ λ§μ΄ μ‚¬μ©ν•κ³  μλ” ν•μ‹μ€ JSONν•μ‹
* around-of-studio ν•νƒλ΅ κ°€λ…μ„± λ†’μ΄κΈ° (μ–Έλ”λ°”(_)λ” μ‚¬μ©μ•ν•¨ - ν•μ΄νΌλ§ν¬λ΅ μ΅ν μ μκΈ° λ•λ¬Έ)

![image-20230911213248235](images/image-20230911213248235.png)

![image-20230911213426073](images/image-20230911213426073.png)



## Maven - Pom.xml μ„¤μ •

![image-20230911213644037](images/image-20230911213644037.png)



### pom νƒκ·Έ μ„¤λ…

![image-20230911213659146](images/image-20230911213659146.png)



μ°λ¦¬λ” jarλ΅ ν¨ν‚¤μ§• ν–κΈ° λ•λ¬Έμ— jarμ„¤μ •

![image-20230911213805776](images/image-20230911213805776.png)



**μμ΅΄ μ„¤μ •μ΄ μ¤‘μ”**

![image-20230911213939916](images/image-20230911213939916.png)



### scope νƒκ·Έ

>  tagμ—μ„ μ‚¬μ©λ  μ μλ” μ„¤μ •κ°’

**runtime** : μ»΄νμΌ μ‹ ν¨ν‚¤μ§•ν•κΈ° μ„ν• κ³Όμ •μΈλ°, κ²€μ¦ν•μ§€ μ•κ³  μ‹¤ν–‰ν•  λ• κ·Έλ€λ΅ μ‚¬μ©ν•  μ μκ²λ” μ„Έν…ν•λ” κ²ƒ

![image-20230911214202921](images/image-20230911214202921.png)

![image-20230911214444878](images/image-20230911214444878.png)



### μ΄κΈ° μ„¤μ •λμ–΄μλ” λΌμ΄λΈλ¬λ¦¬

#### Starter

![image-20230911214457471](images/image-20230911214457471.png)



### μ¶”κ°€ν• μ½”λ“

```xml
<groupId>yerm.project</groupId>
<artifactId>basicproject</artifactId>
<version>0.0.1-SNAPSHOT</version>
<!-- μ¶”κ°€ -->
<packaging>jar</packaging>
```



## MVCν¨ν„΄

* λ¨λ“  μ‚¬μ©μλ“¤ μ”μ²­μ€ μ»¨νΈλ΅¤λ¬λ΅ λ°›κ² λ¨
* μ–΄λ–»κ² μ²λ¦¬ν•  μ§€ κ²°μ •ν•λ‹¤μμ— Model(DBμ²λ¦¬ν•λ” μμ—­)μ— μ”μ²­
* CRUDμ¤‘ μ–΄λ–¤ μ”μ²­μ΄ κ°€λ©΄ Updateλ μ”μ†λ“¤ Viewλ΅μ„ μ—…λ°μ΄νΈν•¨

![image-20230911222058442](images/image-20230911222058442.png)



### μ»¨νΈλ΅¤λ¬

* λ¨λΈκ³Ό λ·° μ‚¬μ΄μ—μ„ λΈλ¦Ώμ§€ μ—­ν•  μν–‰
* μ•±μ μ‚¬μ©μλ΅λ¶€ν„° μ…λ ¥μ— λ€ν• μ‘λ‹µμΌλ΅ λ¨λΈ λ°λ·°λ¥Ό μ—…λ°μ΄νΈ ν•λ” λ΅μ§ ν¬ν•¨ 
* μ‚¬μ©μμ μ”μ²­μ€ λ¨λ‘ μ»¨νΈλ΅¤λ¬λ¥Ό ν†µν•΄ μ§„ν–‰λ¨
* μ»¨νΈλ΅¤λ¬λ΅ λ“¤μ–΄μ¨ μ”μ²­μ€ μ–΄λ–»κ² μ²λ¦¬ν• μ§€ κ²°μ •ν•΄ λ¨λΈλ΅ μ”μ²­ μ „λ‹¬
* μ‡Όν•‘λ°μ—μ„ μƒν’ κ²€μƒ‰ν•λ©΄ κ·Έ ν‚¤μ›λ“λ¥Ό μ»¨νΈλ΅¤λ¬κ°€ λ°›μ•„ λ¨λΈκ³Ό λ·°μ— μ μ ν•κ² μ…λ ¥ μ²λ¦¬ν•μ—¬ μ „λ‹¬





### λ¨λΈ

* λ°μ΄ν„°λ¥Ό μ²λ¦¬ν•λ” μμ—­
* DBμ™€ μ—°λ™μ„ μ„ν• DAO(Data Access Object)μ™€ λ°μ΄ν„° κµ¬μ΅° ν‘ν„ν•λ” DO(Data Object)λ΅ κµ¬μ„±λ¨
  * λ””μμΈν¨ν„΄ λ§ν–λ“―μ΄ μ •λ‹µμ΄ μ•„λ‹λ‹¤. μƒν™©μ— λ§μ¶° μ„¤κ³„λ¥Ό ν•΄μ•Όν•¨ λ¬΄μ΅°κ±΄ DAOμ™€ DOλ¥Ό λ”°λ¥Ό ν•„μ”λ” μ—†μ
* κ²€μƒ‰μ„ μ„ν• ν‚¤μ›λ“κ°€ λ„μ–΄μ¤λ©΄ DBμ—μ„ κ΄€λ ¨λ μƒν’μ λ°μ΄ν„°λ¥Ό λ°›μ•„ λ·°μ— μ „λ‹¬



### λ·°

* λ°μ΄ν„° λ³΄μ—¬μ£Όλ” ν™”λ©΄ μμ²΄μ μμ—­
* μ‚¬μ©μ μΈν„°νμ΄μ¤(UI) μ”μ†λ“¤μ΄ μ—¬κΈ°μ— ν¬ν•¨λλ©° λ°μ΄ν„°λ¥Ό κ° μ”μ†μ— λ°°μΉν•¨
* λ·°μ—μ„λ” λ³„λ„μ λ°μ΄ν„°λ¥Ό λ³΄κ΄€ν•μ§€ μ•μ
* κ²€μƒ‰ κ²°κ³Όλ¥Ό λ³΄μ—¬μ£ΌκΈ° μ„ν•΄ λ¨λΈμ—μ„ κ²°κ³Ό μƒν’ λ¦¬μ¤νΈ λ°μ΄ν„°λ¥Ό λ°›μ



### MVC ν¨ν„΄ νΉμ§•

* μ–΄ν”λ¦¬μΌ€μ΄μ… μ—­ν• μ„ μ„Έ κµ¬κ°„μΌλ΅ λ‚λ„μ–΄ μ„¤κ³„ν•¨μΌλ΅μ¨ μ„λ΅ κ°„μ **μμ΅΄μ„±μ΄ λ‚®μ•„μ§**
* κ° μμ—­μ΄ λ…λ¦½μ μΌλ΅ κµ¬μ„±λμ–΄ **κ°λ°μ κ°„ λ¶„μ—… λ° ν‘μ—…μ΄ μ›ν• **ν•΄μ§
* ν• μμ—­μ„ μ—…λ°μ΄νΈ ν•λ”λΌλ„ **λ‹¤λ¥Έ κ³³μ— μν–¥μ„ μ£Όμ§€ μ•μ**



## μ–΄λ…Έν…μ΄μ…

μ–΄λ…Έν…μ΄μ… : μλ°”μ—μ„λ” μ£Όμ„μ΄λ€ λ»μ„ κ°€μ§€κ³  μλ”λ°, μ†μ¤μ½”λ“μ— μ¶”κ°€ν•΄μ„ μ‚¬μ©ν•  μ μλ” λ©”νƒ€ λ°μ΄ν„°μ μΌμΆ…μ΄λ‹¤

*  λ©”νƒ€λ°μ΄ν„°λ€ μ• ν”λ¦¬μΌ€μ΄μ…μ΄ μ²λ¦¬ν•΄μ•Όν•  λ°μ΄ν„°κ°€ μ•„λ‹λΌ μ»΄νμΌ κ³Όμ •κ³Ό μ‹¤ν–‰κ³Όμ •μ—μ„ μ½”λ“λ¥Ό μ–΄λ–»κ² μ²λ¦¬ν•΄μ•Όν•λ”μ§€ μ•λ ¤μ£ΌκΈ° μ„ν• μ¶”κ°€ μ •λ³΄
* @λ¥Ό κΈ°νΈ μ•μ— λ¶™μ—¬ μ‚¬μ©ν•λ‹¤



### μ–΄λ…Έν…μ΄μ… μ΄μ©μ‹

* μ»΄νμΌλ¬μ—κ² μ½”λ“ μ‘μ„± λ¬Έλ²• μ—λ¬λ¥Ό μ²΄ν¬ν•λ„λ΅ μ •λ³΄ μ κ³µ
* μ†ν”„νΈμ›¨μ–΄ κ°λ° ν™κ²½μ΄ λΉλ“λ‚ λ°°ν¬μ‹ μ½”λ“λ¥Ό μλ™μΌλ΅ μƒμ„±ν•  μ μλ„λ΅ μ •λ³΄μ κ³µ
* λ°νƒ€μ„μ— νΉμ • κΈ°λ¥μ„ μ‹¤ν–‰ν•λ„λ΅ μ •λ³΄ μ κ³µ





#### @RestController

* @Controllerμ— @ResponseBodyκ°€ κ²°ν•©λ μ–΄λ…Έν…μ΄μ…

  * λ‘ μ–΄λ…Έν…μ΄μ…μ€ μ¤ν”„λ§ ν”„λ μ„μ›ν¬μ—μ„ μ‚¬μ©λλ‹¤.
  * MVCμ•„ν‚¤ν…μ²μ—μ„ μ»¨νΈλ΅¤λ¬ ν΄λμ¤μ™€ λ©”μ„λ“λ¥Ό μ •μν•κ³  HTTP μ‘λ‹µμ„ μ²λ¦¬ν•λ” λ° μ‚¬μ©λλ‹¤

* @Controller : MVC μ»¨νΈλ΅¤λ¬ ν΄λμ¤λ¥Ό μ •μν•λ” λ° μ‚¬μ©λ¨

  ```java
  @Controller
  public class MyController {
      // μ»¨νΈλ΅¤λ¬ λ©”μ„λ“λ“¤
  }
  ```

* @ResponseBody : μ¤ν”„λ§ MVCμ»¨νΈλ΅¤λ¬ λ©”μ„λ“μ—μ„ HTTP μ‘λ‹µμ λ³Έλ¬Έ(body)λ¥Ό μ‘μ„±ν•  λ• μ‚¬μ©λλ‹¤. 

  λ©”μ„λ“μ— μ΄ μ–΄λ…Έν…μ΄μ…μ„ λ¶™μ΄λ©΄ ν•΄λ‹Ή λ©”μ„λ“κ°€ λ°ν™ν•λ” κ°μ²΄λ‚ λ°μ΄ν„°κ°€ HTTP μ‘λ‹µμΌλ΅ μ§μ ‘ μ „μ†΅λ©λ‹λ‹¤. 

  ```java
  @Controller
  public class MyController {
      @GetMapping("/data")
      @ResponseBody
      public MyDataObject getMyData() {
          MyDataObject data = new MyDataObject();
          data.setName("John");
          data.setAge(30);
          return data;
      }
  }
  ```

  

* @ResponseBody μ–΄λ…Έν…μ΄μ…μ„ λ¶™μ΄μ§€ μ•μ•„λ„ λ¬Έμμ—΄κ³Ό JSONλ“±μ„ μ „μ†΅ν•  μ μλ‹¤

* Viewλ¥Ό κ±°μΉμ§€ μ•κ³  HTTP ResponseBodyμ— μ§μ ‘ Returnκ°’μ„ λ‹΄μ•„ λ³΄λ‚΄κ² λλ‹¤

![image-20230911230031118](images/image-20230911230031118.png)



### @RequestMapping

* URLμ„ λ§¤ν•‘ν•μ—¬ κ²½λ΅λ¥Ό μ„¤μ •ν•΄ ν•΄λ‹Ή λ©”μ†λ“μ—μ„ μ²λ¦¬
* value: url μ„¤μ •
* method: GET, POST, DELETE, PATCHλ“± μ„¤μ •
* 4.3λ¶€ν„°λ” @GetMapping, @PostMapping, @DeleteMapping, @PutMapping λ“±μΌλ΅ μ‚¬μ©ν•λ‹¤

![image-20230912000455536](images/image-20230912000455536.png)

